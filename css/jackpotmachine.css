 @import url('https://fonts.googleapis.com/css2?family=Rye&family=Roboto:wght@700&display=swap');

 body {
     background-color: #111;
     background-image: repeating-conic-gradient(from 0deg,
             #2a2a2a 0deg 10deg,
             #1a1a1a 10deg 20deg);
     display: flex;
     justify-content: center;
     align-items: center;
     height: 100vh;
     margin: 0;
     font-family: 'Rye', serif;
     overflow: hidden;
 }

 /* --- KHUNG MÁY CHÍNH --- */
 .machine-container {
     position: relative;
     display: flex;
     flex-direction: column;
     gap: 10px;
 }

 .panel {
     background: linear-gradient(to bottom, #b71c1c, #800e0e);
     border: 4px solid #ffd700;
     border-radius: 15px;
     position: relative;
     box-shadow:
         0 0 10px rgba(0, 0, 0, 0.8),
         inset 0 0 20px rgba(0, 0, 0, 0.5);
     padding: 15px;
     display: flex;
     justify-content: center;
     align-items: center;
 }

 .panel::before {
     content: '';
     position: absolute;
     box-shadow: 0 0 10px #ffea00;
     z-index: -1;
 }

 .p-middle::before {
     content: '';
     position: absolute;
     top: -8px;
     left: -8px;
     right: -8px;
     bottom: -8px;
     border: 15px solid #ffd700;
     border-top-left-radius: 50px;
     border-top-right-radius: 50px;
     box-shadow: 0 0 10px #ffea00;
     z-index: -1;
 }


 /* --- BẢNG TRÊN CÙNG (HEADER) --- */
 .top-panel {
     height: 100px;
     flex-direction: column;
     border-top-left-radius: 50px;
     border-top-right-radius: 50px;
     z-index: 2;
     border: 12px solid #ffd700;
 }

 .crown {
     color: #ffd700;
     font-size: 24px;
     margin-bottom: 5px;
     text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
 }

 h1.jackpot-text {
     margin: 0;
     font-size: 48px;
     background: linear-gradient(to bottom, #fff5c3 0%, #ffd700 50%, #d4af37 100%);
     -webkit-background-clip: text;
     -webkit-text-fill-color: transparent;
     text-shadow: 0 2px 0 #b8860b;
     text-transform: uppercase;
     letter-spacing: 2px;
 }

 .middle-panel {
     height: auto;
     min-height: 300px;
     width: 500px;

     border: 10px solid #ffd700;
 }

 .reels-window {
     display: grid;
     grid-template-columns: repeat(6, 1fr);
     grid-template-rows: repeat(5, 1fr);
     gap: 5px;
     padding: 10px;
     background-color: #000;
     border: 4px solid #d4af37;
     border-radius: 10px;
 }

 .reel {
     width: 100%;
     height: 50px;
     font-size: 24px;
     display: flex;
     justify-content: center;
     align-items: center;
     background: linear-gradient(to bottom, #e0e0e0 0%, #fff 40%, #fff 60%, #e0e0e0 100%);
     border-radius: 3px;
     color: #d32f2f;
     font-weight: bold;
     box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2);
 }

 /* Các mũi tên tam giác 2 bên */
 .arrow-left,
 .arrow-right {
     width: 0;
     height: 0;
     border-top: 10px solid transparent;
     border-bottom: 10px solid transparent;
     position: absolute;
 }

 .arrow-left {
     border-right: 15px solid #ffd700;
     left: -20px;
 }

 .arrow-right {
     border-left: 15px solid #ffd700;
     right: -20px;
 }

 .reel {
     width: 30%;
     height: 100%;
     background: linear-gradient(to bottom, #e0e0e0 0%, #fff 40%, #fff 60%, #e0e0e0 100%);
     border-radius: 5px;
     display: flex;
     justify-content: center;
     align-items: center;
     font-size: 80px;
     color: #d32f2f;
     text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.2);
     box-shadow:
         inset 0 10px 15px rgba(0, 0, 0, 0.2),
         inset 0 -10px 15px rgba(0, 0, 0, 0.2);
     position: relative;
     overflow: hidden;
 }

 /* Các đường kẻ mờ trên cuộn quay để tạo cảm giác tròn */
 .reel::after {
     content: '';
     position: absolute;
     top: 0;
     left: 0;
     width: 100%;
     height: 100%;
     background: linear-gradient(to bottom, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0) 80%, rgba(0, 0, 0, 0.1) 100%);
 }

 /* --- BẢNG DƯỚI (NÚT BẤM) --- */
 .bottom-panel {
     height: 80px;
 }

 .spin-btn {
     background: linear-gradient(to bottom, #ff0000, #990000);
     border: 4px solid #ffd700;
     padding: 10px 60px;
     border-radius: 50px;
     color: white;
     font-family: 'Roboto', sans-serif;
     font-size: 28px;
     font-weight: bold;
     cursor: pointer;
     box-shadow:
         0 5px 0 #550000,
         0 10px 10px rgba(0, 0, 0, 0.5),
         inset 0 2px 5px rgba(255, 255, 255, 0.3);
     transition: transform 0.1s, box-shadow 0.1s;
 }

 .spin-btn:active {
     transform: translateY(5px);
     box-shadow:
         0 0 0 #550000,
         inset 0 5px 10px rgba(0, 0, 0, 0.6);
 }

 /* --- CẦN GẠT (HANDLE) --- */
 .handle-base {
     position: absolute;
     right: -50px;
     top: 150px;
     width: 40px;
     height: 80px;
     background: linear-gradient(to right, #d4af37, #ffee90, #d4af37);
     border-radius: 0 10px 10px 0;
     box-shadow: inset 2px 0 5px rgba(0, 0, 0, 0.4);
     z-index: 0;
 }

 .handle-stick {
     position: absolute;
     right: -40px;
     top: 110px;
     width: 15px;
     height: 80px;
     background: linear-gradient(to right, #ccc, #fff, #999);
     z-index: -1;
 }

 .handle-ball {
     position: absolute;
     right: -55px;
     top: 90px;
     width: 45px;
     height: 45px;
     background: radial-gradient(circle at 30% 30%, #ff4d4d, #990000);
     border-radius: 50%;
     box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
     z-index: -1;
 }

 /* --- HỆ THỐNG ĐÈN (BULBS) --- */
 /* Đây là phần chứa các bóng đèn chạy dọc theo viền */
 .lights-container {
     position: absolute;
     top: -5px;
     left: -5px;
     right: -5px;
     bottom: -5px;
     pointer-events: none;
     border-radius: 18px;
 }

 /* Top panel cần bo tròn góc trên */
 .top-panel .lights-container {
     /* Bán kính máy là 50px, đèn cách 12px -> bán kính đèn nên là ~62px */
     border-top-left-radius: 62px;
     border-top-right-radius: 62px;
     /* Đảm bảo góc dưới vuông vức */
     border-bottom-left-radius: 0;
     border-bottom-right-radius: 0;
 }

 .middle-panel .lights-container,
 .bottom-panel .lights-container {
     border-radius: 20px;
     /* Tăng nhẹ so với border gốc 15px */
 }

 .bulb {
     position: absolute;
     width: 10px;
     height: 10px;
     background-color: #500;
     /* Màu khi tắt */
     border-radius: 50%;
     box-shadow: 0 0 2px #000;
     animation: blink 1s infinite;
 }

 /* Keyframe để đèn nhấp nháy */
 @keyframes blink {

     0%,
     100% {
         background-color: #500;
         box-shadow: none;
     }

     50% {
         background-color: #fff;
         box-shadow: 0 0 10px #ffea00, 0 0 20px #ffea00;
     }
 }

 /* Chúng ta sẽ dùng JavaScript nhỏ để rải đèn tự động, 
           hoặc nếu chỉ dùng CSS thì phải fix cứng vị trí từng cái.
           Dưới đây là cách sử dụng SCSS logic nhưng viết thủ công cho CSS thuần 
           để tạo hiệu ứng chạy (delay).
        */

 /* Chỉnh delay cho từng nhóm đèn để tạo hiệu ứng chạy vòng tròn */
 .bulb:nth-child(odd) {
     animation-delay: 0s;
 }

 .bulb:nth-child(even) {
     animation-delay: 0.5s;
 }

 /* Để đẹp hơn, đèn chạy đuổi nhau (chasing) */
 /* Code JS bên dưới sẽ lo việc đặt vị trí các bóng đèn */